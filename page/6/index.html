<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content=""><meta name="keywords"><meta name="author" content="Ta Minh Huy,undefined"><meta name="copyright" content="Ta Minh Huy"><title>【Minh Huy Blog】</title><link rel="stylesheet" href="/css/fan.css"><link rel="stylesheet" href="/css/thirdparty/jquery.mCustomScrollbar.min.css"><link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css"><link rel="icon" href="/favicon.ico"><!-- script(src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML")--><script src="/js/mathjax/mathjax.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
    tex2jax: {inlineMath: [['$', '$'], ['\\(', '\\)']]}
});
</script><script>var isPassword = '' || false;
if (isPassword) {
    if (prompt('请输入文章密码') !== '') {
        alert('密码错误！');
        history.back();
    }
}</script><script>window.GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Success',
    error: 'Error',
    noSupport: 'No Support'
  },
  gitment: {},
  valine: {},
}</script><meta name="generator" content="Hexo 6.2.0"></head><body><canvas id="universe"></canvas><!--#body--><div id="sidebar"><div class="author-info"><div class="author-info-avatar"><img class="author-info-avatar-img" src="/avatar.png"></div><div class="author-info-name">Ta Minh Huy</div><div class="author-info-description"></div><div class="links-buttons"><a class="links-button button-hover" href="https://github.com/huytm2k3" target="_blank">GitHub<i class="icon-dot bg-color4"></i></a><a class="links-button button-hover" href="mailto:huyat180522@gmail.com" target="_blank">E-Mail<i class="icon-dot bg-color10"></i></a><a class="links-button button-hover" href="https://www.facebook.com/profile.php?id=100072417355186" target="_blank">Facebook<i class="icon-dot bg-color8"></i></a></div><div class="author-info-articles"><a class="author-info-articles-archives article-meta" href="/archives"><span class="pull-top">Post</span><span class="pull-bottom">59</span></a><a class="author-info-articles-tags article-meta" href="/tags"><span class="pull-top">Tags</span><span class="pull-bottom">42</span></a><a class="author-info-articles-categories article-meta" href="/categories"><span class="pull-top">Categories</span><span class="pull-bottom">5</span></a></div></div></div><div id="main-container"><header><div id="menu-outer"><i class="menu-list-icon fas fa-bars"></i><nav id="menu-inner"><a class="menu-item" href="/">Trang chủ</a><a class="menu-item" href="/tags">Thẻ</a><a class="menu-item" href="/categories">Danh mục</a><a class="menu-item" href="/archives">Mục lục</a><a class="menu-item" href="/about">Giới thiệu</a><a class="menu-item" href="/plan">Kế hoạch 2023</a><a class="menu-item" href="/sumary22">Tổng kết 2022</a><a class="menu-item" href="/book">Sách hay</a></nav><script src="/js/audio_autoplay.js"></script><div class="right-info"><audio controls="" autoplay="" id="bg-music" style="display: none"><source src="/audio/bgmusic.mp3" type="audio/mpeg"></audio><a class="title-name" href="/">Minh Huy Blog</a><span id="now-time"></span></div></div></header><div id="content-outer"><div id="content-inner"><div id="recent-posts"><!-- each post in page.posts.sort('date', -1).limit(10).toArray()--><!-- config中配置按照什么排序--><div class="recent-post-item"><a class="post-title" href="/2022/12/07/Python-GUI-Framework-PyQt/">Python GUI Framework PyQt</a><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> Modified 2023-03-21</time></div><div class="post-content"><div class="main-content content"><h2 id="PyQt-la-gi"><a href="#PyQt-la-gi" class="headerlink" title="PyQt là gì?"></a>PyQt là gì?</h2><p>PyQt là một liên kết Python của bộ công cụ GUI đa nền tảng Qt, được triển khai dưới dạng một trình cắm thêm Python. PyQt là phần mềm miễn phí được phát triển bởi công ty Riverbank Computing của Anh.</p>
<h2 id="Cau-truc-co-ban"><a href="#Cau-truc-co-ban" class="headerlink" title="Cấu trúc cơ bản"></a>Cấu trúc cơ bản</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt6.QtWidgets <span class="keyword">import</span> QApplication, QWidget</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt6.QtGui <span class="keyword">import</span> QIcon</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Window</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        self.setWindowTitle(<span class="string">&quot;PyQt6 Window&quot;</span>)</span><br><span class="line">        <span class="comment"># ... Define window here!</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app = QApplication([])</span><br><span class="line">window = Window()</span><br><span class="line">window.show()</span><br><span class="line">sys.exit(app.<span class="built_in">exec</span>())</span><br></pre></td></tr></table></figure>

<h2 id="Thuoc-tinh-co-ban-QWidget"><a href="#Thuoc-tinh-co-ban-QWidget" class="headerlink" title="Thuộc tính cơ bản QWidget"></a>Thuộc tính cơ bản QWidget</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">self.setWindowTilte(<span class="string">&quot;Title here!&quot;</span>) <span class="comment"># Sửa tiêu đề cửa sổ</span></span><br><span class="line">self.setWindowIcon(...) <span class="comment"># Sửa icon</span></span><br><span class="line">self.setFixedHeight(<span class="number">200</span>) <span class="comment"># Chiều cao cửa sổ</span></span><br><span class="line">self.setFixedWidth(<span class="number">200</span>) <span class="comment"># Chiều rộng cửa sổ</span></span><br><span class="line">self.setGeometry(a,b,c,d) <span class="comment"># Vị trí khởi động của cửa sổ và width height</span></span><br><span class="line">self.setStyleSheet(...) <span class="comment"># CSS cho cửa sổ</span></span><br></pre></td></tr></table></figure>

<h2 id="Load-ui-file"><a href="#Load-ui-file" class="headerlink" title="Load *.ui file"></a>Load *.ui file</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt6.QtWidgets <span class="keyword">import</span> QApplication, QWidget</span><br><span class="line"><span class="keyword">from</span> PyQt6 <span class="keyword">import</span> uic</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UI</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        uic.loadUi(<span class="string">&#x27;./ui/main.ui&#x27;</span>, self)</span><br><span class="line"></span><br><span class="line">app = QApplication(sys.argv)</span><br><span class="line">window = UI()</span><br><span class="line">window.show()</span><br><span class="line">sys.exit(app.<span class="built_in">exec</span>())</span><br></pre></td></tr></table></figure>

<h2 id="Convert-ui-file-thanh-py-file"><a href="#Convert-ui-file-thanh-py-file" class="headerlink" title="Convert ui file thành py file"></a>Convert ui file thành py file</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pyuic6 -x &lt;uifile&gt; -o &lt;pyfile&gt;</span><br></pre></td></tr></table></figure>

<h2 id="PushButton-and-Label"><a href="#PushButton-and-Label" class="headerlink" title="PushButton and Label"></a>PushButton and Label</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt6.QtWidgets <span class="keyword">import</span> QApplication, QWidget, QPushButton, QLabel</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt6.QtGui <span class="keyword">import</span> QIcon, QFont</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Window</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        self.setWindowTitle(<span class="string">&quot;PyQt6 Window&quot;</span>)</span><br><span class="line">        </span><br><span class="line">        self.setGeometry(<span class="number">500</span>, <span class="number">200</span>, <span class="number">500</span>, <span class="number">400</span>)</span><br><span class="line"></span><br><span class="line">        self.create_widgets()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">create_widgets</span>(<span class="params">self</span>):</span><br><span class="line">        btn = QPushButton(<span class="string">&quot;Click Me&quot;</span>, self)</span><br><span class="line">        <span class="comment"># btn.move(100, 100)</span></span><br><span class="line">        btn.setGeometry(<span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>)</span><br><span class="line">        btn.setStyleSheet(<span class="string">&#x27;background-color: red&#x27;</span>)</span><br><span class="line">        <span class="comment"># Click event </span></span><br><span class="line">        btn.clicked.connect(self.clicked_btn)</span><br><span class="line"></span><br><span class="line">        self.label = QLabel(<span class="string">&quot;My Label&quot;</span>, self)</span><br><span class="line">        self.label.move(<span class="number">100</span>, <span class="number">200</span>)</span><br><span class="line">        self.label.setStyleSheet(<span class="string">&#x27;color: green&#x27;</span>)</span><br><span class="line">        self.label.setFont(QFont(<span class="string">&quot;Times New Roman&quot;</span>, <span class="number">15</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Set text for label</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">clicked_btn</span>(<span class="params">self</span>):</span><br><span class="line">        self.label.setText(<span class="string">&quot;Clicked!&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app = QApplication([])</span><br><span class="line">window = Window()</span><br><span class="line">window.show()</span><br><span class="line">sys.exit(app.<span class="built_in">exec</span>())</span><br></pre></td></tr></table></figure>

</div></div><a class="button-hover more" href="/2022/12/07/Python-GUI-Framework-PyQt/#more">Đọc tiếp</a></div><div class="recent-post-item"><a class="post-title" href="/2022/11/30/Realtime-Chat-App-voi-NodeJS-Socket-io/">Realtime Chat App với NodeJS Socket.io</a><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> Modified 2023-03-21</time></div><div class="post-content"><div class="main-content content"><h2 id="Introduce"><a href="#Introduce" class="headerlink" title="Introduce"></a>Introduce</h2><p><img src="/images/SocketIONodeJS/Screenshot_1.png"></p>
<p>Ngày trước khi người ta chưa sử dụng Socket, muốn tạo 1 app chat realtime có 2 cách là Polling và Long Polling</p>
<p>Polling là client sau mỗi khoảng thời gian sẽ gửi 1 request lên để lấy dữ liệu, nếu không có dữ liệu mới Server sẽ trả về dữ liệu cũ hoặc không trả về gì.</p>
<p>Long Polling có nghĩa là, client sẽ gửi 1 request và đợi cho tới khi server có dữ liệu mới, server sẽ trả về dữ liệu mới đó.</p>
<p>Cả 2 cách trên đều không realtime.</p>
<p>Streaming tức là client sẽ gửi 1 subscribe như 1 thông tin đăng ký, khi này mỗi khi có dữ liệu mới, server sẽ gửi về cho client.</p>
<h2 id="Tao-server-voi-ExpressJS-socket-io-EJS"><a href="#Tao-server-voi-ExpressJS-socket-io-EJS" class="headerlink" title="Tạo server với ExpressJS + socket.io + EJS"></a>Tạo server với ExpressJS + socket.io + EJS</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&quot;express&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&quot;http&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> server = http.<span class="title function_">createServer</span>(app);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">Server</span> &#125; = <span class="built_in">require</span>(<span class="string">&quot;socket.io&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> io = <span class="keyword">new</span> <span class="title class_">Server</span>(server);</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  <span class="comment">// Template engine ejs</span></span><br><span class="line">  app.<span class="title function_">engine</span>(<span class="string">&quot;.html&quot;</span>, <span class="built_in">require</span>(<span class="string">&quot;ejs&quot;</span>).<span class="property">__express</span>);</span><br><span class="line">  app.<span class="title function_">use</span>(express.<span class="title function_">static</span>(<span class="string">&quot;public&quot;</span>));</span><br><span class="line">  app.<span class="title function_">set</span>(<span class="string">&quot;view engine&quot;</span>, <span class="string">&quot;html&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&quot;/&quot;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">render</span>(<span class="string">&quot;index&quot;</span>, &#123;&#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">io.<span class="title function_">on</span>(<span class="string">&quot;connection&quot;</span>, <span class="function">(<span class="params">socket</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;user connected&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">server.<span class="title function_">listen</span>(<span class="number">8080</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;App running on http://localhost:8080&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>Thao tác nhận kết nối của server từ client</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">io.<span class="title function_">on</span>(<span class="string">&quot;connection&quot;</span>, <span class="function">(<span class="params">socket</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;user connected&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>Mỗi khi có 1 user gửi socket tới, sẽ hiện ra dòng log ‘user connected’</p>
<p>Khi này, client sẽ kết nối:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> socket = <span class="title function_">io</span>();</span><br></pre></td></tr></table></figure>

<p>Để gửi data, sử dụng method emit:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">socket.<span class="title function_">emit</span>(<span class="string">&quot;on-chat&quot;</span>, &#123;</span><br><span class="line">  <span class="attr">message</span>: $(<span class="string">&quot;#txt-message&quot;</span>).<span class="title function_">val</span>(),</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>Với on-chat là keyword, khi này server sẽ đón data bằng cách:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">socket.<span class="title function_">on</span>(<span class="string">&quot;on-chat&quot;</span>, <span class="function">(<span class="params">arg</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(arg);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>Và dĩ nhiên, server cần phải gửi ngược lại phần tin nhắn, để mọi người đều nhận được và cập nhật tin nhắn được gửi từ người khác</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">socket.<span class="title function_">on</span>(<span class="string">&quot;on-chat&quot;</span>, <span class="function">(<span class="params">arg</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(arg);</span><br><span class="line">  io.<span class="title function_">emit</span>(<span class="string">&quot;user-chat&quot;</span>, arg);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>Lúc này, client sẽ đón lại data từ phía server gửi về:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">socket.<span class="title function_">on</span>(<span class="string">&quot;user-chat&quot;</span>, <span class="function">(<span class="params">arg</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(arg);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>Mô hình gửi nhận sẽ tóm gọn lại như này: 1 user sẽ gửi lên tin nhắn kèm theo socket keyword là ‘on-chat’, server sẽ sử dụng keyword đó để đón lấy tin nhắn và gửi lại cho tất cả các user kèm 1 keyword khác là ‘user-chat’, lúc này tất cả user dùng keyword ‘user-chat’ để lấy tin nhắn và hiển thị ra.</p>
<p>Project cờ caro 2 người online mình làm bằng Socket.io: <a target="_blank" rel="noopener" href="https://github.com/huytm2k3/carogame">https://github.com/huytm2k3/carogame</a></p>
</div></div><a class="button-hover more" href="/2022/11/30/Realtime-Chat-App-voi-NodeJS-Socket-io/#more">Đọc tiếp</a></div><div class="recent-post-item"><a class="post-title" href="/2022/11/29/Ly-thuyet-kien-truc-Node-js/">Lý thuyết kiến trúc Node.js</a><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> Modified 2023-03-21</time></div><div class="post-content"><div class="main-content content"><p>Bài viết này được mình gom góp từ nhiều nguồn khác nhau trên Internet, chia sẻ cho mọi người kiến thức về kiến trúc Node.js một cách dễ hiểu và đầy đủ nhất cũng như ôn luyện cho phỏng vấn 2023 luôn.</p>
<h2 id="NodeJS-la-gi"><a href="#NodeJS-la-gi" class="headerlink" title="NodeJS là gì"></a>NodeJS là gì</h2><p>NodeJS là một môi trường runtime chạy JavaScript đa nền tảng và có mã nguồn mở, được sử dụng để chạy các ứng dụng web bên ngoài trình duyệt của client. Nền tảng này được phát triển bởi Ryan Dahl vào năm 2009, được xem là một giải pháp hoàn hảo cho các ứng dụng sử dụng nhiều dữ liệu nhờ vào mô hình hướng sự kiện (event-driven) không đồng bộ.</p>
<h2 id="V8"><a href="#V8" class="headerlink" title="V8"></a>V8</h2><p>Node.js được xây dựng trên V8 engine của Google. Nó là công cụ javascript nhanh nhất. V8 engine chuyển đổi code javascript thành mã máy mà máy tính thực sự hiểu được. Kết quả sau đó được tạo và trả về node.js. Node.js không thể hiểu mã javascript mà chúng ta viết mà không có V8. Bên cạnh javascript, V8 cũng sử dụng C ++.</p>
<h2 id="I-x2F-O-bat-dong-bo"><a href="#I-x2F-O-bat-dong-bo" class="headerlink" title="I&#x2F;O bất đồng bộ"></a>I&#x2F;O bất đồng bộ</h2><p>NodeJS sử dụng cơ chế bất đồng bộ, có nghĩa là như nào?</p>
<p>Với I&#x2F;O đồng bộ, 1 Thread sẽ đợi cho đến khi toàn bộ hành động kết thúc, có nghĩa là chuỗi các lệnh sẽ đợi nhau kết thúc để thực thi tới bước tiếp theo. Còn với bất đồng bộ, I&#x2F;O sẽ chạy ở chế độ nền, không đợi nhau và sẽ được gọi khi kết thúc. I&#x2F;O bất đồng bộ giúp chương trình hoạt động trơn tru, nhanh hơn mà không bị nghẽn.</p>
<h2 id="LIBUV"><a href="#LIBUV" class="headerlink" title="LIBUV"></a>LIBUV</h2><p>Một dependency node.js được viết bằng C++, triển khai 2 tính năng quan trọng là Event loop và Thread pool</p>
<h2 id="Event-Loop"><a href="#Event-Loop" class="headerlink" title="Event Loop"></a>Event Loop</h2><p>Event Loop được coi là trái tim của Node.js, nó làm cho Node hoàn toàn khác biệt với các ngôn ngữ Back end khác.</p>
<p>Phần này khá khó hiểu và rắc rối, nên mình sẽ tách ra thành 1 bài riêng.</p>
<h2 id="Thread-pool"><a href="#Thread-pool" class="headerlink" title="Thread pool"></a>Thread pool</h2><p>Thread pool xử lý các tác vụ nặng nên cung cấp cho chúng ta 4 thread bổ sung hoàn toàn tách biệt với single thread trong Event loop. Event loop sẽ tải bớt các tác vụ nặng vào Thread pool và điều này diễn ra tự động. Một số tác vụ tốn kém được giảm tải là:  tất cả các hoạt động xử lý tệp, mọi thứ liên quan đến mật mã, như mật khẩu lưu vào bộ nhớ đệm, sau đó là tất cả các hoạt động liên quan đến nén, tra cứu DNS (khớp các miền web với địa chỉ IP thực tương ứng của chúng) và hơn thế nữa.</p>
</div></div><a class="button-hover more" href="/2022/11/29/Ly-thuyet-kien-truc-Node-js/#more">Đọc tiếp</a></div></div><div id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/5/">&lt;i class&#x3D;&quot;fas fa-angle-left&quot;&gt;&lt;&#x2F;i&gt;</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/20/">20</a><a class="extend next" rel="next" href="/page/7/">&lt;i class&#x3D;&quot;fas fa-angle-right&quot;&gt;&lt;&#x2F;i&gt;</a></div></div></div></div><div class="button-hover" id="return-top"><i class="fas fa-arrow-up" aria-hidden="true"></i></div><footer><div id="footer"><div class="button-hover" id="side-button"><i class="fas fa-arrow-right"></i></div><div class="right-content"><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv"><i class="fas fa-user"></i></span><span id="busuanzi_value_site_uv"></span><span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv"><i class="fas fa-eye"></i></span><span id="busuanzi_value_site_pv"></span><span></span></div><div class="copyright">&copy;2022 ～ 2023 By Ta Minh Huy</div></div></div></footer></div><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/thirdparty/jquery-3.3.1.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/thirdparty/velocity.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/thirdparty/jquery.mCustomScrollbar.concat.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/fan.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/canvas_bg.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/utils.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/sidebar.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/copy.js"></script><!--script(src=url)--></body></html>