<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="Lý thuyết kiến trúc Node.js"><meta name="keywords" content=""><meta name="author" content="Ta Minh Huy,undefined"><meta name="copyright" content="Ta Minh Huy"><title>Lý thuyết kiến trúc Node.js【mhuyBlogsite】</title><link rel="stylesheet" href="/css/fan.css"><link rel="stylesheet" href="/css/thirdparty/jquery.mCustomScrollbar.min.css"><link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css"><link rel="icon" href="/favicon.ico"><!-- script(src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML")--><script src="/js/mathjax/mathjax.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
    tex2jax: {inlineMath: [['$', '$'], ['\\(', '\\)']]}
});
</script><script>var isPassword = '' || false;
if (isPassword) {
    if (prompt('请输入文章密码') !== '') {
        alert('密码错误！');
        history.back();
    }
}</script><script>window.GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Success',
    error: 'Error',
    noSupport: 'No Support'
  },
  gitment: {},
  valine: {},
}</script><meta name="generator" content="Hexo 6.2.0"></head><body><canvas id="universe"></canvas><!--#body--><div id="sidebar"><div class="toggle-sidebar-info button-hover"><span data-toggle="Post Folder">Overview</span></div><div class="sidebar-toc"><div class="sidebar-toc-title">Catalog</div><div class="sidebar-toc-progress"><span class="progress-notice">Đã đọc</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc-progress-bar"></div></div><div class="sidebar-toc-content" id="sidebar-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#NodeJS-la-gi"><span class="toc-number">1.</span> <span class="toc-text">NodeJS là gì</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#V8"><span class="toc-number">2.</span> <span class="toc-text">V8</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#I-x2F-O-bat-dong-bo"><span class="toc-number">3.</span> <span class="toc-text">I&#x2F;O bất đồng bộ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#LIBUV"><span class="toc-number">4.</span> <span class="toc-text">LIBUV</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Event-Loop"><span class="toc-number">5.</span> <span class="toc-text">Event Loop</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Thread-pool"><span class="toc-number">6.</span> <span class="toc-text">Thread pool</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info-avatar"><img class="author-info-avatar-img" src="/avatar.png"></div><div class="author-info-name">Ta Minh Huy</div><div class="author-info-description"></div><div class="links-buttons"><a class="links-button button-hover" href="https://github.com/huytm2k3" target="_blank">GitHub<i class="icon-dot bg-color10"></i></a><a class="links-button button-hover" href="mailto:huyat180522@gmail.com" target="_blank">E-Mail<i class="icon-dot bg-color10"></i></a><a class="links-button button-hover" href="https://www.facebook.com/profile.php?id=100072417355186" target="_blank">Facebook<i class="icon-dot bg-color2"></i></a></div><div class="author-info-articles"><a class="author-info-articles-archives article-meta" href="/archives"><span class="pull-top">Post</span><span class="pull-bottom">45</span></a><a class="author-info-articles-tags article-meta" href="/tags"><span class="pull-top">Tags</span><span class="pull-bottom">40</span></a><a class="author-info-articles-categories article-meta" href="/categories"><span class="pull-top">Categories</span><span class="pull-bottom">5</span></a></div></div></div><div id="main-container"><header><div id="menu-outer"><i class="menu-list-icon fas fa-bars"></i><nav id="menu-inner"><a class="menu-item" href="/">Trang chủ</a><a class="menu-item" href="/tags">Tags</a><a class="menu-item" href="/categories">Danh mục</a><a class="menu-item" href="/archives">Mục lục</a><a class="menu-item" href="/about">About</a></nav><div class="right-info"><a class="title-name" href="/">mhuyBlogsite</a><span id="now-time"></span></div></div></header><div id="content-outer"><div id="content-inner"><article id="post"><div class="post-header"><div class="title">Lý thuyết kiến trúc Node.js</div><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> Posted 2022-11-29 | Modified 2022-12-12</time><!--time.button-hover.post-date #[i.fas.fa-calendar-alt.article-icon(aria-hidden="true")] #[=__('post.modified')] #[=date(page['updated'], config.date_format)]--><div class="button-hover categories"></div><div class="button-hover tags"></div></div></div><div class="main-content"><p>Bài viết này được mình gom góp từ nhiều nguồn khác nhau trên Internet, chia sẻ cho mọi người kiến thức về kiến trúc Node.js một cách dễ hiểu và đầy đủ nhất cũng như ôn luyện cho phỏng vấn 2023 luôn.</p>
<h2 id="NodeJS-la-gi"><a href="#NodeJS-la-gi" class="headerlink" title="NodeJS là gì"></a>NodeJS là gì</h2><p>NodeJS là một môi trường runtime chạy JavaScript đa nền tảng và có mã nguồn mở, được sử dụng để chạy các ứng dụng web bên ngoài trình duyệt của client. Nền tảng này được phát triển bởi Ryan Dahl vào năm 2009, được xem là một giải pháp hoàn hảo cho các ứng dụng sử dụng nhiều dữ liệu nhờ vào mô hình hướng sự kiện (event-driven) không đồng bộ.</p>
<h2 id="V8"><a href="#V8" class="headerlink" title="V8"></a>V8</h2><p>Node.js được xây dựng trên V8 engine của Google. Nó là công cụ javascript nhanh nhất. V8 engine chuyển đổi code javascript thành mã máy mà máy tính thực sự hiểu được. Kết quả sau đó được tạo và trả về node.js. Node.js không thể hiểu mã javascript mà chúng ta viết mà không có V8. Bên cạnh javascript, V8 cũng sử dụng C ++.</p>
<h2 id="I-x2F-O-bat-dong-bo"><a href="#I-x2F-O-bat-dong-bo" class="headerlink" title="I&#x2F;O bất đồng bộ"></a>I&#x2F;O bất đồng bộ</h2><p>NodeJS sử dụng cơ chế bất đồng bộ, có nghĩa là như nào?</p>
<p>Với I&#x2F;O đồng bộ, 1 Thread sẽ đợi cho đến khi toàn bộ hành động kết thúc, có nghĩa là chuỗi các lệnh sẽ đợi nhau kết thúc để thực thi tới bước tiếp theo. Còn với bất đồng bộ, I&#x2F;O sẽ chạy ở chế độ nền, không đợi nhau và sẽ được gọi khi kết thúc. I&#x2F;O bất đồng bộ giúp chương trình hoạt động trơn tru, nhanh hơn mà không bị nghẽn.</p>
<h2 id="LIBUV"><a href="#LIBUV" class="headerlink" title="LIBUV"></a>LIBUV</h2><p>Một dependency node.js được viết bằng C++, triển khai 2 tính năng quan trọng là Event loop và Thread pool</p>
<h2 id="Event-Loop"><a href="#Event-Loop" class="headerlink" title="Event Loop"></a>Event Loop</h2><p>Event Loop được coi là trái tim của Node.js, nó làm cho Node hoàn toàn khác biệt với các ngôn ngữ Back end khác.</p>
<p>Phần này khá khó hiểu và rắc rối, nên mình sẽ tách ra thành 1 bài riêng.</p>
<h2 id="Thread-pool"><a href="#Thread-pool" class="headerlink" title="Thread pool"></a>Thread pool</h2><p>Thread pool xử lý các tác vụ nặng nên cung cấp cho chúng ta 4 thread bổ sung hoàn toàn tách biệt với single thread trong Event loop. Event loop sẽ tải bớt các tác vụ nặng vào Thread pool và điều này diễn ra tự động. Một số tác vụ tốn kém được giảm tải là:  tất cả các hoạt động xử lý tệp, mọi thứ liên quan đến mật mã, như mật khẩu lưu vào bộ nhớ đệm, sau đó là tất cả các hoạt động liên quan đến nén, tra cứu DNS (khớp các miền web với địa chỉ IP thực tương ứng của chúng) và hơn thế nữa.</p>
</div><div class="post-copyright"><div class="post-copyright-author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Ta Minh Huy</a></span></div><div class="post-copyright-type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://huytm2k3.github.io/2022/11/29/Ly-thuyet-kien-truc-Node-js/">https://huytm2k3.github.io/2022/11/29/Ly-thuyet-kien-truc-Node-js/</a></span></div><div class="post-copyright-notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated. Reprint please indicate from <a href="https://huytm2k3.github.io">mhuyBlogsite</a>！</span></div></div></article><div id="pagination"><div class="prev-post pull-left"><span class="line line-top"></span><span class="line line-right"></span><span class="line line-bottom"></span><span class="line line-left"></span><a href="/2022/11/30/Realtime-Chat-App-voi-NodeJS-Socket-io/"><i class="fas fa-angle-left">&nbsp;</i><span>Realtime Chat App với NodeJS Socket.io</span></a></div><div class="next-post pull-right"><span class="line line-top"></span><span class="line line-right"></span><span class="line line-bottom"></span><span class="line line-left"></span><a href="/2022/11/28/Ke-hoach-cuoi-2022/"><span>Kế hoạch cuối 2022 - Đầu 2023</span><span>&nbsp;</span><i class="fas fa-angle-right"></i></a></div></div><!--div!= paginator()--></div></div><div class="button-hover" id="return-top"><i class="fas fa-arrow-up" aria-hidden="true"></i></div><footer><div id="footer"><div class="button-hover" id="side-button"><i class="fas fa-arrow-right"></i></div><div class="right-content"><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fas fa-file-o"></i></span><span id="busuanzi_value_page_pv"></span><span></span></div><div class="copyright">&copy;2022 By Ta Minh Huy</div></div></div></footer></div><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/thirdparty/jquery-3.3.1.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/thirdparty/velocity.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/thirdparty/jquery.mCustomScrollbar.concat.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/fan.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/canvas_bg.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/utils.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/sidebar.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/copy.js"></script><!--script(src=url)--></body></html>